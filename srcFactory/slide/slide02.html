<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>script01</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<style type="text/css" media="screen">

*{margin:0;padding:0}
#canvas {overflow:hidden;
	position:relative;width:600px;height:400px;
	}
/* Slider panel */
.slider_panel {width:3000px;position:relative;}
.slider_image {float:left;width:600px;height:400px}
.slider_text_panel {position: absolute;top:200px;left:50px}
.slider_text {position: absolute;width: 250px;height: 150px}
.control_panel {
	position: absolute;top:380px;left: 240px;height:13px;overflow: hidden;
}
.control_button {
	width:12px;height:12px;position: relative;float:left;cursor: pointer;background:tan;margin:0 10px;
	border-radius:10px
}
.control_button:hover {background:blue}
.control_button.active {background:red}
</style>
</head>

<body>

<h1>Test Header</h1>
<div id="canvas">
	<div class="slider_panel">
		<img src="../images/1.jpg" alt="" class="slider_image" />
		<img src="../images/2.jpg" alt="" class="slider_image" />
		<img src="../images/3.jpg" alt="" class="slider_image" />
		<img src="../images/4.jpg" alt="" class="slider_image" />
	</div>
	<div class="slider_text_panel">
		<div class="slider_text">
			<h1>Lorem ipsum.</h1>
			<p>Lorem ipsum dolor sit amet.</p>
		</div>
		<div class="slider_text">
			<h1>ipsum.</h1>
			<p>dolor sit amet.</p>
		</div>
		<div class="slider_text">
			<h1>Lorem</h1>
			<p>sit amet.</p>
		</div>
		<div class="slider_text">
			<h1>Lorem ipsum.</h1>
			<p>Lorem ipsum dolor sit amet.</p>
		</div>
	</div>
	<div class="control_panel">
		<div class="control_button"></div>
		<div class="control_button"></div>
		<div class="control_button"></div>
		<div class="control_button"></div>
	</div>
</div>

	
<script type="text/javascript" charset="utf-8">
	

$(function(){
	
	// 초기 텍스트 위치 지정과 data-index 할당
	$('.slider_text').css('left',-300).each(function(idx){
		$(this).attr({'data-index' : idx})
	})
	
	// 컨트롤 버튼의 클릭 핸들러 지정과 data-index 할당
	$('.control_button').each(function(idx){
		$(this).attr('data-index',idx)
	}).click(function(){
		
		var index = $(this).attr('data-index');
		moveSlider(index);
		
	})
	
	var randomNumber = Math.round(Math.random() * 3);
	moveSlider(randomNumber)
	
	// slider moving
	function moveSlider(index) {
		
		var willMoveLeft = -(index * 600);
		
		$('.slider_panel').animate({left : willMoveLeft}, 'slow');
		$('.control_button[data-index=' + index + ']').addClass('active')
		$('.control_button[data-index!=' + index + ']').removeClass('active')
		
		$('.slider_text[data-index=' + index + ']').show().animate({left:0}, 'slow')
		$('.slider_text[data-index!=' + index + ']').hide('slow',function(){
			$(this).css('left',-300)
		})
		
	}
	/*
	setInterval(function(){
		$('.control_button').trigger('click')
	},4000)
	*/
	
	

	
})


		
	
</script>
</body>
</html>
